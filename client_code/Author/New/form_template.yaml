container:
  type: HtmlTemplate
  properties: {html: "<div anvil-slot=\"tags\"></div>\n<div anvil-slot=\"cover\"></div>\n\
      <div anvil-slot=\"title\"></div>\n<!-- Create toolbar container -->\n<div id=\"\
      toolbar\">\n  <!-- Add font size dropdown -->\n  <select class=\"ql-header\"\
      >\n    <option selected value=false>\xb6</option>\n    <option value=\"1\">\xa7\
      </option>\n    <option value=\"2\">\xa7\xa7</option>\n    <option value=\"3\"\
      >\xa7\xa7\xa7</option>\n  </select>\n  <button class=\"ql-bold\"></button>\n\
      \  <button class=\"ql-italic\"></button>\n  <button class=\"ql-blockquote\"\
      ></button>\n  <button class=\"ql-align\"></button>\n  <button class=\"ql-align\"\
      \ value=\"center\"></button>\n  <button class=\"ql-align\" value=\"right\"></button>\n\
      \  <div anvil-slot-repeat='default'></div>\n  <div id=\"counter\" anvil-name=\"\
      counter\">0</div>\n  <button id=\"post\" onclick=\"anvil.call(this, 'post',\
      \ this)\"><i class=\"fa-light fa-newspaper\"></i></button>\n\n \n</div>\n\n\
      <div id=\"editor\" anvil-name=\"editor\">\n  <h1>\u0413\u043b\u0430\u0432\u0430\
      </h1>\n  <h2>\u0421\u0446\u0435\u043d\u0430</h2>\n    <h3>\u041f\u043e\u0434\
      \u0441\u0446\u0435\u043d\u0430</h3>\n  <p>\u041f\u0430\u0440\u0430\u0433\u0440\
      \u0430\u0444 ...</p>\n</div>\n\n\n\n\n\n\n<script>\nclass Counter {\n  constructor(quill,\
      \ options) {\n    this.quill = quill;\n    this.options = options;\n    this.container\
      \ = document.querySelector(options.container);\n    quill.on(Quill.events.TEXT_CHANGE,\
      \ this.update.bind(this));\n  }\n\n  calculate() {\n    const text = this.quill.getText();\n\
      \n    if (this.options.unit === 'word') {\n      const trimmed = text.trim();\n\
      \      // Splitting empty text returns a non-empty array\n      return trimmed.length\
      \ > 0 ? trimmed.split(/\\s+/).length : 0;\n    } else {\n      return text.length;\n\
      \    }\n  }\n\n  update() {\n    const length = this.calculate();\n    //let\
      \ label = this.options.unit;\n    //if (length !== 1) {\n    //  label += '\u0434\
      ';\n    //}\n    //this.container.innerText = `${length} ${label}`;\n    this.container.innerText\
      \ = `${length}`;\n  }\n}\n\nQuill.register('modules/counter', Counter);\n</script>\n\
      <script>\nif (!document.querySelector('#editor').__quill) {\n    var quill =\
      \ new Quill('#editor', {\n        theme: 'snow',\n        modules: {\n     \
      \                   counter: {\n                                  container:\
      \ '#counter',\n                                  unit: 'word'\n            \
      \                    },\n                        toolbar: '#toolbar',\n    \
      \              }\n    });\n}\n</script>\n\n\n\n\n\n<style>\n  #toolbar{\n  \
      \  display: flex;\n    justify-content: space-between;\n    border: none;\n\
      \  }\n#toolbar svg{\n  height: 2rem !important;\n}\n  .ql-picker{\n    width:\
      \ 5rem !important;\n  }\n\n  #editor{\n    border: none;\n  }\n</style>"}
components: []
is_package: true
